<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
    * {
        padding: 0;
        margin: 0;
    }
    
    .wrap {
        width: 300px;
        margin: 100px auto 0;
    }
    
    table {
        border-collapse: collapse;
        border-spacing: 0;
        border: 1px solid #c0c0c0;
        width: 300px;
    }
    
    th,
    td {
        border: 1px solid #d0d0d0;
        color: #404060;
        padding: 10px;
    }
    
    th {
        background-color: #09c;
        font: bold 16px "微软雅黑";
        color: #fff;
    }
    
    td {
        font: 14px "微软雅黑";
    }
    
    tbody tr {
     background-color: #f0f0f0;
    }
    
    tbody tr:hover {
        cursor: pointer;
        background-color: #fafafa;
    }
    .change1{
        background-color: pink;
    }
</style>
<script src="../../jquery-3.6.0.js"></script>
<script>
    $(function(){
        //获取全选按钮的值，给小按钮
     $("#j_cbAll ,#j_cbAll1").change(function(){
   var flag= $(this).prop("checked");
    $("#j_tb").find("input").prop("checked",flag);
    $("#j_cbAll1,#j_cbAll").prop("checked",flag);
         console.log(  $(this).prop("checked")); 
// 全选按钮选中时所用商品改变
       if( $(this).prop("checked")){
        $("#j_tb").find("tr").addClass("change1");
       }else{
           //没有选中移除
        $("#j_tb").find("tr").removeClass("change1");
       }
         
     });

     //获取小按钮的个数 是小框的个数
     $("#j_tb").find("input").change(function(){
       var num= $("#j_tb").find("input").length;
       //被选中的个数
       var theSelected=$("#j_tb").find("input:checked").length;
         if(num===theSelected){
            $("#j_cbAll1,#j_cbAll").prop("checked",true);
         }else{
            $("#j_cbAll1,#j_cbAll").prop("checked",false);
         }
        if( $(this).prop("checked")){
            $(this).parents("tr").addClass("change1");
        }else{
              $(this).parents("tr").removeClass("change1");
        }
     });



     //删除商品操作
    //  1.点击删除按钮，就删除他的父亲ul
     $("#j_tb").find(".sc").click(function(){
         $(this).parent("tr").remove();
     });
    //2.点击全选后的删除，就删除被选中的商品
  $("thead").find(".sc").click(function(){
      $("#j_tb input:checked").parents("tr").remove();
  })


  //当被选中时添加背景
  
   


    })
</script>
</head>

<body>
<div class="wrap">
    <table>
        <thead>
            <tr>
                <th>
                    <input type="checkbox" id="j_cbAll" />
                </th>
                <th>商品</th>
                <th>价钱</th>
                <th class="sc">删除</th>
            </tr>
        </thead>
        <tbody id="j_tb">
            <tr>
                <td>
                    <input type="checkbox" />
                </td>
                <td>iPhone8</td>
                <td>8000</td>
                <td class="sc">删除</td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" />
                </td>
                <td>iPad Pro</td>
                <td>5000</td>
                <td class="sc">删除</td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" />
                </td>
                <td>iPad Air</td>
                <td>2000</td>
                <td class="sc">删除</td>
            </tr>
            <tr>
                <td>
                    <input type="checkbox" />
                </td>
                <td>Apple Watch</td>
                <td>2000</td>
                <td class="sc">删除</td>
            </tr>
             
          
        </tbody>
        <thead>
            <tr>
                <th>
                    <input type="checkbox" id="j_cbAll1" />
                </th>
                <th>商品</th>
                <th>价钱</th>
               <th class="sc">删除</th>
            </tr>
        </thead>
       
    </table>
</div>
  
</body>
</html>